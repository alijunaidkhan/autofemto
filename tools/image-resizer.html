<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary SEO Meta Tags -->
    <title>Free Image Resizer - Resize Images Online Fast | AutoFemto</title>
    <meta name="title" content="Free Image Resizer - Resize Images Online Fast | AutoFemto">
    <meta name="description" content="Free online image resizer - Resize photos instantly with aspect ratio lock. Convert to PNG, JPEG, or WebP. Fast browser-based processing, no upload required. Perfect for web optimization!">
    <meta name="keywords" content="image resizer, resize image, resize photo, image resize online, photo resizer, reduce image size, compress image, image optimizer, resize jpg, resize png, image converter, web image optimizer">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://autofemto.com/tools/image-resizer.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://autofemto.com/tools/image-resizer.html">
    <meta property="og:title" content="Free Image Resizer - Fast & Secure Online Tool">
    <meta property="og:description" content="Resize images instantly with aspect ratio lock. Convert to PNG, JPEG, or WebP. No upload required!">
    <meta property="og:image" content="https://autofemto.com/og-image.png">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://autofemto.com/tools/image-resizer.html">
    <meta property="twitter:title" content="Free Image Resizer - Fast & Secure Online Tool">
    <meta property="twitter:description" content="Resize images with aspect ratio lock. Browser-based processing means your images never leave your device.">
    <meta property="twitter:image" content="https://autofemto.com/og-image.png">
    
    <link rel="stylesheet" href="../theme.css">
    <link rel="stylesheet" href="tools.css">
    <script src="../navigation.js"></script>
</head>
<body>
    <!-- Navigation will be inserted here by navigation.js -->
    
    <div class="container">
        <div class="tool-container">
            <h1 class="tool-title">üñºÔ∏è Image Resizer</h1>
            <p class="tool-description">Resize images quickly and easily - all processing happens in your browser</p>

            <div class="file-upload" onclick="document.getElementById('fileInput').click()">
                <input type="file" id="fileInput" accept="image/*" onchange="loadImage(event)">
                <p style="font-size: 3rem; margin-bottom: 1rem;">üìÅ</p>
                <p>Click to upload an image</p>
                <p style="color: var(--text-secondary); font-size: 0.9rem;">Supports: JPG, PNG, GIF, WebP</p>
            </div>

            <div id="imageControls" style="display: none;">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-top: 2rem;">
                    <div class="form-group">
                        <label>Width (px):</label>
                        <input type="number" id="widthInput" oninput="updateDimensions('width')" min="1">
                    </div>
                    <div class="form-group">
                        <label>Height (px):</label>
                        <input type="number" id="heightInput" oninput="updateDimensions('height')" min="1">
                    </div>
                    <div class="form-group">
                        <label>Scale (%):</label>
                        <input type="number" id="scaleInput" oninput="updateScale()" value="100" min="1">
                    </div>
                </div>

                <div class="form-group">
                    <label>
                        <input type="checkbox" id="maintainRatio" checked style="width: auto; margin-right: 0.5rem;">
                        Maintain aspect ratio
                    </label>
                </div>

                <div class="form-group">
                    <label>Output Format:</label>
                    <select id="formatSelect">
                        <option value="image/png">PNG</option>
                        <option value="image/jpeg">JPEG</option>
                        <option value="image/webp">WebP</option>
                    </select>
                </div>

                <div class="form-group" id="qualityControl" style="display: none;">
                    <label>Quality (1-100):</label>
                    <input type="range" id="qualitySlider" min="1" max="100" value="90" oninput="document.getElementById('qualityValue').textContent = this.value">
                    <span id="qualityValue">90</span>
                </div>

                <button class="btn btn-primary" onclick="resizeImage()">Resize & Preview</button>
                <button class="btn btn-success" onclick="downloadImage()" id="downloadBtn" disabled>Download</button>
                <button class="btn btn-danger" onclick="resetAll()">Reset</button>

                <div id="previewSection" style="margin-top: 2rem; display: none;">
                    <h3>Preview:</h3>
                    <div style="background: var(--input-bg); padding: 1rem; border-radius: 0.5rem; text-align: center;">
                        <canvas id="canvas" style="max-width: 100%; border: 1px solid var(--border-color);"></canvas>
                    </div>
                    <div id="imageInfo" style="margin-top: 1rem; color: var(--text-secondary);"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let originalImage = null;
        let originalWidth = 0;
        let originalHeight = 0;
        let aspectRatio = 1;

        document.getElementById('formatSelect').addEventListener('change', function() {
            const qualityControl = document.getElementById('qualityControl');
            if (this.value === 'image/jpeg' || this.value === 'image/webp') {
                qualityControl.style.display = 'block';
            } else {
                qualityControl.style.display = 'none';
            }
        });

        function loadImage(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                originalImage = new Image();
                originalImage.onload = function() {
                    originalWidth = this.width;
                    originalHeight = this.height;
                    aspectRatio = originalWidth / originalHeight;

                    document.getElementById('widthInput').value = originalWidth;
                    document.getElementById('heightInput').value = originalHeight;
                    document.getElementById('imageControls').style.display = 'block';
                    
                    document.getElementById('imageInfo').innerHTML = 
                        `<strong>Original:</strong> ${originalWidth} √ó ${originalHeight} px`;
                };
                originalImage.src = e.target.result;
            };
            reader.readAsDataURL(file);
        }

        function updateDimensions(changedField) {
            if (!document.getElementById('maintainRatio').checked) return;

            const width = document.getElementById('widthInput');
            const height = document.getElementById('heightInput');

            if (changedField === 'width') {
                height.value = Math.round(width.value / aspectRatio);
            } else {
                width.value = Math.round(height.value * aspectRatio);
            }
        }

        function updateScale() {
            const scale = document.getElementById('scaleInput').value / 100;
            document.getElementById('widthInput').value = Math.round(originalWidth * scale);
            document.getElementById('heightInput').value = Math.round(originalHeight * scale);
        }

        function resizeImage() {
            if (!originalImage) {
                alert('Please upload an image first');
                return;
            }

            const newWidth = parseInt(document.getElementById('widthInput').value);
            const newHeight = parseInt(document.getElementById('heightInput').value);
            
            if (!newWidth || !newHeight || newWidth < 1 || newHeight < 1) {
                alert('Please enter valid dimensions');
                return;
            }

            const canvas = document.getElementById('canvas');
            const ctx = canvas.getContext('2d');

            canvas.width = newWidth;
            canvas.height = newHeight;

            ctx.drawImage(originalImage, 0, 0, newWidth, newHeight);

            document.getElementById('previewSection').style.display = 'block';
            document.getElementById('downloadBtn').disabled = false;
            
            document.getElementById('imageInfo').innerHTML = 
                `<strong>Original:</strong> ${originalWidth} √ó ${originalHeight} px | <strong>Resized:</strong> ${newWidth} √ó ${newHeight} px`;
        }

        function downloadImage() {
            const canvas = document.getElementById('canvas');
            const format = document.getElementById('formatSelect').value;
            const quality = document.getElementById('qualitySlider').value / 100;

            let dataURL;
            if (format === 'image/png') {
                dataURL = canvas.toDataURL(format);
            } else {
                dataURL = canvas.toDataURL(format, quality);
            }

            const link = document.createElement('a');
            const extension = format.split('/')[1];
            link.download = `resized-image.${extension}`;
            link.href = dataURL;
            link.click();
        }

        function resetAll() {
            document.getElementById('fileInput').value = '';
            document.getElementById('imageControls').style.display = 'none';
            document.getElementById('previewSection').style.display = 'none';
            originalImage = null;
        }
    </script>
</body>
</html>
